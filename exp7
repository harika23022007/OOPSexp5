package machine;
import java.util.Scanner;
class InvalidATMPinException extends Exception {
 public InvalidATMPinException(String message) {
     super(message);
 }
}
class NoCashException extends Exception {
 public NoCashException(String message) {
     super(message);
 }
}
class Account {
    private String name;
    private double balance;
    private final int atmPin;
    public Account(String name, double balance, int atmPin) {
        this.name = name;
        this.balance = balance;
        this.atmPin = atmPin;
    }
    public void checkPin(int enteredPin) throws InvalidATMPinException {
        if (this.atmPin != enteredPin) {
            throw new InvalidATMPinException("Invalid ATM PIN entered.");
        }
        System.out.println("PIN is valid. You can now perform transactions.");
    }
    public void withdraw(double amount) throws NoCashException {
        if (amount > balance) {
            throw new NoCashException("Insufficient balance to withdraw " + amount);
        }
        balance -= amount;
        System.out.println("Withdrawal of " + amount + " successful. Your new balance is " + balance);
    }
    public String getName() {
        return name;
    }
    public double getBalance() {
        return balance;
    }
}
public class Atm_machine {
	public static void main(String[] args) {
		Account myAccount = new Account("Jane Doe", 1000.00, 1234);
		Scanner scanner = new Scanner(System.in);
		System.out.println("Attempting to check PIN for " + myAccount.getName());
		System.out.print("Please enter your 4-digit PIN: ");
	    int enteredPin = scanner.nextInt();        
		try {
            myAccount.checkPin(enteredPin);
        } catch (InvalidATMPinException e) {
        	System.out.println("Error: " + e.getMessage());
        } finally {
        	System.out.println("PIN verification attempt is complete.\n");
        }
		System.out.println("Attempting to withdraw cash from " + myAccount.getName() + "'s account.");
		System.out.print("Enter amount to withdraw: ");
		double withdrawalAmount = scanner.nextDouble();
		try {
			myAccount.withdraw(withdrawalAmount);
		} catch (NoCashException e) {
		    System.out.println("Transaction failed: " + e.getMessage());
		} finally {
		    System.out.println("Withdrawal attempt is complete.");
		    System.out.println("Final balance for " + myAccount.getName() + ": " + myAccount.getBalance());
		}
		        
		scanner.close();
	}
}

